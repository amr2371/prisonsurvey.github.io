<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Project Report</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="EDA.html">Exploratory Analysis</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Statistical Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="stat_tests.html">Association between Mental Health and HIV Status</a>
    </li>
    <li>
      <a href="stat_tests_prior_arrest.html">Association between Mental Health and Arrest History</a>
    </li>
    <li>
      <a href="model_selection.html">Model Selection</a>
    </li>
  </ul>
</li>
<li>
  <a href="Maps.html">Spatial Analysis</a>
</li>
<li>
  <a href="project_report.html">Project Report</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="https://github.com/amr2371/prisonsurvey.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Project Report</h1>

</div>


<div id="motivation" class="section level1">
<h1>Motivation</h1>
<p>Some of our group members are interested in HIV and mental health, so
we chose to center our project on these outcomes. Additionally, we felt
that focusing on incarcerated individuals would present an interesting
lens through which to study these diseases due to this population’s
elevated risk for HIV and mental health conditions and their often
overlooked, disenfranchised status.</p>
</div>
<div id="related-work" class="section level1">
<h1>Related work</h1>
<p>The prevalence of mass incarceration in the United States has grown
drastically, driving severe disparities in individual and community
health that persist over time. Incarcerated individuals have a higher
risk of HIV, as well as mental health and substance use disorders, with
little access to quality treatment despite prisons being required to
provide healthcare (Wildeman &amp; Wang, 2017). In 2003 and 2004, the
United States Bureau of Justice Statistics conducted a nationally
representative survey to collect a variety of information, including
current and past incarceration history and health status, on those
incarcerated in federal and state prisons. This analysis will provide an
overview on the differences in health status among incarcerated
populations in both federal and state prison systems, specifically
related to variables for HIV and mental health.</p>
</div>
<div id="initial-questions" class="section level1">
<h1>Initial questions</h1>
<p>Initially, we wanted to focus on HIV and mental health status in
incarcerated individuals, but upon exploratory analysis of the dataset,
we found a relatively low proportion of survey respondents with a
positive HIV test and associated information on this subpopulation. We
therefore shifted our analysis to primarily focus on mental health
outcomes and also included variables related to respondents’
incarceration (<code>Number of Prior Sentences</code>,
<code>Parents Been Incarcerated</code>, <code>Facility Type</code>,
etc.).</p>
<p>Our three questions of interest include:</p>
<ol style="list-style-type: decimal">
<li>Is mental health associated with HIV Status?</li>
<li>Is mental health associated with prior arrest history?</li>
<li>What are the best predictors of mental health status?</li>
</ol>
</div>
<div id="data" class="section level1">
<h1>Data</h1>
<div id="source" class="section level3">
<h3>Source</h3>
<p>Our dataset,
<code>Survey of Inmates in State and Federal Correctional Facilities, [United States], 2004 (ICPSR 4572)</code>,
was collected from a nationally representative survey of incarcerated
individuals in both state and federal prison systems. Versions of this
study have been conducted every 5-6 years since 1974. The dataset used
for this analysis can be found <a
href="https://www.icpsr.umich.edu/web/NACJD/studies/4572">here</a>. This
dataset contains information about thousands of randomly sampled
incarcerated individuals, including variables regarding demographics,
prison sentence and history with the judicial system, as well as
health.</p>
</div>
<div id="cleaning" class="section level3">
<h3>Cleaning</h3>
<p>To conduct our exploratory and statistical data analyses, we first
imported the datasets containing observations of both state and
federally incarcerated individuals from the
<code>Survey of Inmates in State and Federal Correctional Facilities, [United States], 2004 (ICPSR 4572)</code>
into R. We also selected our variables of interest to pare down the
datasets. This was necessary as the original datasets were extremely
extensive with several thousand variables in addition to several
thousand individual observations. Paring down the datasets not only
aided with ease of scanning the original dataset for errors, successful
coding steps, etc. but also was key to avoiding long program run-times
while developing the code.</p>
<pre class="r"><code>#Importing the datasets
federal_df &lt;- load(&quot;./data/04572-0001-Data.rda&quot;) 

federal_df &lt;- da04572.0001 %&gt;% 
  select(V2288, V2289, V2290, V2291, MCMH_HIVTEST, MCMH_RSLT_HIV, DRUG_INJECT_CB, V2401, V2402, V2403, V2404, V2405, V2406, V2407, V2409, V2412, MCMH_MH_TREATMENT_PA, MCMH_MH_TREATMENT_AD, MCMH_MENTAL_HISTORY, V1197, CS_SENTENCEMTH,CH_PRIORSENTENCE, CH_PRIORSENTENCE_NUM, CH_CRIMHIST, CH_CRIMHIST_COLLAPSED, CH_NUMCAR,CH_NUMCAR1, CH_NUMCAR2, CH_NUMCAR3, CH_NUMCAR4, CH_NUMCAR5, MOST_SERIOUS_OFFENSE2, TYPEOFFENSE, V1056, V1057, V1060, V1061, V1325, V0001, V0014, AGE_CAT, V2982, V0005, EDUCATION, SES_INCOMEMTH, DRUG_ANY, DRUG_ANYREG, DRUG_ANYMTH, SES_PHYSSEXABUSED_EVER, SES_PARENTS_INCARCERATED, SES_FAMILY_INCARCERATED, V0105, MCMH_WHEN_DISORDER, MCMH_WHEN_DISORDER2,MCMH_MHOSPYR,MCMH_MHOSPADM,MCMH_MHOSPYRADM,MCMH_SMI) %&gt;%
  mutate(dataset = &quot;Federal&quot;)

state_df &lt;- load(&quot;./data/04572-0002-Data.rda&quot;) 

state_df &lt;- da04572.0002 %&gt;% 
   select(V2288, V2289, V2290, V2291, MCMH_HIVTEST, MCMH_RSLT_HIV, DRUG_INJECT_CB, V2401, V2402, V2403, V2404, V2405, V2406, V2407, V2409, V2412, MCMH_MH_TREATMENT_PA, MCMH_MH_TREATMENT_AD, MCMH_MENTAL_HISTORY, V1197, CS_SENTENCEMTH,CH_PRIORSENTENCE, CH_PRIORSENTENCE_NUM, CH_CRIMHIST, CH_CRIMHIST_COLLAPSED, CH_NUMCAR,CH_NUMCAR1, CH_NUMCAR2, CH_NUMCAR3, CH_NUMCAR4, CH_NUMCAR5, MOST_SERIOUS_OFFENSE2, TYPEOFFENSE, V1056, V1057, V1060, V1061, V1325, V0001, V0014, AGE_CAT, V2982, V0005, EDUCATION, SES_INCOMEMTH, DRUG_ANY, DRUG_ANYREG, DRUG_ANYMTH, SES_PHYSSEXABUSED_EVER, SES_PARENTS_INCARCERATED, SES_FAMILY_INCARCERATED, V0105, MCMH_WHEN_DISORDER, MCMH_WHEN_DISORDER2,MCMH_MHOSPYR,MCMH_MHOSPADM,MCMH_MHOSPYRADM,MCMH_SMI) %&gt;%
  mutate(dataset = &quot;State&quot;)</code></pre>
<p>We next stacked these two datasets (i.e., federal and state) and
cleaned the resulting data by checking for coding errors, recoding
various factor variables for ease of viewing, adding variable labels,
and changing the coding of values from
<code>missing</code>/<code>don't know</code>/<code>unknown</code> to
<code>NA</code> for consistency.</p>
<pre class="r"><code>#Combining datasets, filtering dataset, formatting variables
total_df = 
  bind_rows(state_df, federal_df) %&gt;% 
  mutate(
    dataset = as.factor(dataset)) %&gt;%
  mutate(
    MENTAL_HISTORY_BINARY = case_when(MCMH_MENTAL_HISTORY == &quot;(0000001) Yes&quot; ~ &quot;1&quot;, MCMH_MENTAL_HISTORY == &quot;(0000002) No&quot; ~ &quot;0&quot;, MCMH_MENTAL_HISTORY == &quot;(9999997) DK/refused&quot; | MCMH_MENTAL_HISTORY == &quot;(9999999) Blank&quot;  ~ &quot;.&quot;)) %&gt;%
  mutate(
    MENTAL_HISTORY_BINARY = na_if(MENTAL_HISTORY_BINARY, &quot;.&quot;), 
    MENTAL_HISTORY_BINARY = factor(MENTAL_HISTORY_BINARY, 
      levels = c(0, 1),
      labels = c(&quot;No history of mental health condition(s)&quot;, &quot;History of mental health condition(s)&quot;)))  %&gt;% 
  filter(!is.na(MENTAL_HISTORY_BINARY)) %&gt;% 
  mutate(V0005 = dplyr::recode(V0005, &quot;(1) Male&quot; = &quot;Male&quot;, &quot;(2) Female&quot; = &quot;Female&quot;)) %&gt;% 
  mutate(AGE_CAT = dplyr::recode(AGE_CAT, &quot;(1) &lt; 25 yrs&quot; = &quot;&lt; 25 yrs&quot;, &quot;(2) 25-34&quot; = &quot;25-34&quot;, &quot;(3) 35-44&quot; =  &quot;35-44&quot;, &quot;(4) 45-54&quot; = &quot;45-54&quot;, &quot;(5) 55-64&quot; = &quot;55-64&quot;, &quot;(6) 65-96&quot; = &quot;65-96&quot;, &quot;(7) Unknown&quot; = &quot;Unknown&quot;)) %&gt;% 
  mutate(
    V2982 = dplyr::recode(V2982, &quot;(1) White non-Hispanic&quot; = &quot;White non-Hispanic&quot;, &quot;(2) Black non-Hispanic&quot; = &quot;Black non-Hispanic&quot;, &quot;(3) Hispanic&quot; = &quot;Hispanic&quot;, &quot;(4) American Indian, Alaska Native non-Hispanic&quot; = &quot;American Indian, Alaska Native non-Hispanic&quot;, &quot;(5) Asian, Pacific Islander, Native Hawaiian non-Hispanic&quot; = &quot;Asian, Pacific Islander, Native Hawaiian non-Hispanic&quot;, &quot;(6) Multiple Races reported, non-Hispanic&quot; = &quot;Multiple Races reported, non-Hispanic&quot;, &quot;(8) Other, Uncategorized - Missing&quot; = &quot;NA&quot;), 
    V2982 = factor(V2982, exclude = &quot;NA&quot;), 
    V2982 = na_if(V2982, &quot;NA&quot;)) %&gt;% 
  mutate(
    EDUCATION = dplyr::recode(EDUCATION, &quot;(0000000) Never attended or attended kindergarten only&quot; = &quot;Never attended or kindergarten only&quot;, &quot;(0000001) First grade&quot; = &quot;First grade&quot;, &quot;(0000002) Second grade&quot; = &quot;Second grade&quot;, &quot;(0000003) Third grade&quot; = &quot;Third grade&quot;, &quot;(0000004) Fourth grade&quot; = &quot;Fourth grade&quot;, &quot;(0000005) Fifth grade&quot; = &quot;Fifth grade&quot;, &quot;(0000006) Sixth grade&quot; = &quot;Sixth grade&quot;, &quot;(0000007) Seventh grade&quot; = &quot;Seventh grade&quot;, &quot;(0000008) Eighth grade&quot; = &quot;Eighth grade&quot;, &quot;(0000009) Ninth grade&quot; = &quot;Ninth grade&quot;, &quot;(0000010) Tenth grade&quot; = &quot;Tenth grade&quot;, &quot;(0000011) Eleventh grade&quot; = &quot;Eleventh grade&quot;, &quot;(0000012) Twelfth grade&quot; = &quot;Twelfth grade&quot;, &quot;(0000013) College freshman&quot; = &quot;College freshman&quot;, &quot;(0000014) College sophomore&quot; = &quot;College sophomore&quot;, &quot;(0000015) College junior&quot; = &quot;College junior&quot;, &quot;(0000016) College senior&quot; = &quot;College senior&quot;, &quot;(0000017) Graduate school one year&quot; = &quot;Graduate school one year&quot;, &quot;(0000018) Graduate school two or more years&quot; = &quot;Graduate school two or more years&quot;, &quot;(0000019) Attended school in other country/system not comparable to grades&quot; = &quot;NA&quot;, &quot;(9999997) Don&#39;t know&quot; = &quot;NA&quot;, &quot;(9999998) Refused&quot; = &quot;NA&quot;, &quot;(9999999) Missing&quot; = &quot;NA&quot;), 
    EDUCATION = factor(EDUCATION, exclude = &quot;NA&quot;), 
    EDUCATION = na_if(EDUCATION, &quot;NA&quot;)) %&gt;% 
  mutate(
    SES_INCOMEMTH = dplyr::recode(SES_INCOMEMTH, &quot;(0000000) No income&quot; = &quot;No income&quot;, &quot;(0000001) $1 - 199&quot; = &quot;$1 - $199&quot;, &quot;(0000002) 200 - 399&quot; = &quot;$200 - $399&quot;, &quot;(0000003) 400 - 599&quot; = &quot;$400 - $599&quot;, &quot;(0000004) 600 - 799&quot; = &quot;$600 - $799&quot;, &quot;(0000005) 800 - 999&quot; = &quot;$800 - $999&quot;, &quot;(0000006) 1,000 - 1,199&quot; = &quot;$1,000 - $1,199&quot;, &quot;(0000007) 1,200 - 1,499&quot; = &quot;$1,200 - $1,499&quot;, &quot;(0000008) 1,500 - 1,999&quot; = &quot;$1,500 - $1,999&quot;, &quot;(0000009) 2,000 - 2,499&quot; = &quot;$2,000 - $2,499&quot;, &quot;(0000010) 2,500 - 4,999&quot; = &quot;$2,500 - $4,999&quot;, &quot;(0000011) 5,000 - 7,499&quot; = &quot;$5,000 - $7,499&quot;, &quot;(0000012) 7,500 or more&quot; = &quot;$7,500 or more&quot;, &quot;(9999997) Don&#39;t know&quot; = &quot;NA&quot;, &quot;(9999998) Refused&quot; = &quot;NA&quot;, &quot;(9999999) Missing&quot; = &quot;NA&quot;), 
    SES_INCOMEMTH = factor(SES_INCOMEMTH, exclude = &quot;NA&quot;), 
    SES_INCOMEMTH = na_if(SES_INCOMEMTH, &quot;NA&quot;)) %&gt;% 
  mutate(
    CH_PRIORSENTENCE_NUM = dplyr::recode(CH_PRIORSENTENCE_NUM, &quot;(0000000) No prior sentence&quot; = &quot;No prior sentence&quot;, &quot;(0000001) One prior sentence&quot; = &quot;One prior sentence&quot;, &quot;(0000002) Two prior sentences&quot; = &quot;Two prior sentences&quot;, &quot;(0000003) Three to five prior sentences&quot; = &quot;Three to five prior sentences&quot;, &quot;(0000004) Six to ten prior sentences&quot; = &quot;Six to ten prior sentences&quot;, &quot;(0000005) Eleven or more prior sentences&quot; = &quot;Eleven or more prior sentences&quot;, &quot;(9999999) Missing&quot; = &quot;NA&quot;), 
    CH_PRIORSENTENCE_NUM = factor(CH_PRIORSENTENCE_NUM, exclude = &quot;NA&quot;), 
    CH_PRIORSENTENCE_NUM = na_if(CH_PRIORSENTENCE_NUM, &quot;NA&quot;)) %&gt;% 
    mutate(
    V1197 = ifelse(V1197 &lt;= 996, V1197, NA)) %&gt;% 
  mutate(
    CH_CRIMHIST_COLLAPSED = dplyr::recode(CH_CRIMHIST_COLLAPSED, &quot;(0000001) First timers&quot; = &quot;First timers&quot;, &quot;(0000002) Recidivist, current or past violent offense&quot; = &quot;Recidivist, current or past violent offense&quot;, &quot;(0000003) Recidivist, no current or prior violent offense&quot; = &quot;Recidivist, no current or prior violent offense&quot;, &quot;(9999999) Missing&quot; = &quot;NA&quot;), 
    CH_CRIMHIST_COLLAPSED = factor(CH_CRIMHIST_COLLAPSED, exclude = &quot;NA&quot;), 
    CH_CRIMHIST_COLLAPSED = na_if(CH_CRIMHIST_COLLAPSED, &quot;NA&quot;)) %&gt;% 
  mutate(
    SES_PARENTS_INCARCERATED = dplyr::recode(SES_PARENTS_INCARCERATED, &quot;(0000001) Yes&quot; = &quot;Yes&quot;, &quot;(0000002) No&quot; = &quot;No&quot;,&quot;(9999997) Don&#39;t know&quot; = &quot;NA&quot;, &quot;(9999998) Refused&quot; = &quot;NA&quot;, &quot;(9999999) Missing&quot; = &quot;NA&quot;), 
    SES_PARENTS_INCARCERATED = factor(SES_PARENTS_INCARCERATED, exclude = &quot;NA&quot;), 
    SES_PARENTS_INCARCERATED = na_if(SES_PARENTS_INCARCERATED, &quot;NA&quot;)) %&gt;% 
  mutate(
    SES_FAMILY_INCARCERATED = dplyr::recode(SES_FAMILY_INCARCERATED, &quot;(0000001) Yes&quot; = &quot;Yes&quot;, &quot;(0000002) No&quot; = &quot;No&quot;,&quot;(9999997) Don&#39;t know&quot; = &quot;NA&quot;, &quot;(9999998) Refused&quot; = &quot;NA&quot;, &quot;(9999999) Missing&quot; = &quot;NA&quot;), 
    SES_FAMILY_INCARCERATED = factor(SES_FAMILY_INCARCERATED, exclude = &quot;NA&quot;), 
    SES_FAMILY_INCARCERATED = na_if(SES_FAMILY_INCARCERATED, &quot;NA&quot;)) %&gt;% 
  mutate(
      V2409 = dplyr::recode(V2409, &quot;(1) Yes&quot; = &quot;Yes&quot;, &quot;(2) No&quot; = &quot;No&quot;,&quot;(7) Don&#39;t Know&quot; = &quot;NA&quot;, &quot;(8) Refused&quot; = &quot;NA&quot;), 
      V2409 = factor(V2409, exclude = &quot;NA&quot;), 
      V2409 = na_if(V2409, &quot;NA&quot;)) %&gt;% 
  mutate(
      V2412 = dplyr::recode(V2412, &quot;(1) Yes&quot; = &quot;Yes&quot;, &quot;(2) No&quot; = &quot;No&quot;,&quot;(7) Don&#39;t Know&quot; = &quot;NA&quot;, &quot;(8) Refused&quot; = &quot;NA&quot;), 
      V2412 = factor(V2412, exclude = &quot;NA&quot;), 
      V2412 = na_if(V2412, &quot;NA&quot;)) %&gt;% 
  mutate(
      MCMH_MHOSPYR = dplyr::recode(MCMH_MHOSPYR, &quot;(0000001) Yes, admitted to mental hospital during the 12 months before arrest&quot; = &quot;Yes in 12 months before arrest&quot;, &quot;(0000002) No, was not admitted to mental hospital during the 12 months before arrest&quot; = &quot;Not in 12 months before arrest&quot;, &quot;(0000004) No, never admitted to stayed overnight at mental hospital&quot; = &quot;No, never&quot;, &quot;(9999998) DK/refused&quot; = &quot;NA&quot;, &quot;(9999999) Missing&quot; = &quot;NA&quot;), 
      MCMH_MHOSPYR = factor(MCMH_MHOSPYR, exclude = &quot;NA&quot;), 
      MCMH_MHOSPYR = na_if(MCMH_MHOSPYR, &quot;NA&quot;)) %&gt;% 
  mutate(
    MCMH_MHOSPADM = dplyr::recode(MCMH_MHOSPADM, &quot;(0000001) Yes, admitted to mental hospital since admission&quot; = &quot;Yes since admission&quot;, &quot;(0000002) No, was not admitted to mental hospital since admission&quot; = &quot;Not since admission&quot;, &quot;(0000004) No, never admitted to stayed overnight at mental hospital&quot; = &quot;No, never&quot;, &quot;(9999998) DK/refused&quot; = &quot;NA&quot;, &quot;(9999999) Missing&quot; = &quot;NA&quot;), 
      MCMH_MHOSPADM = factor(MCMH_MHOSPADM, exclude = &quot;NA&quot;), 
      MCMH_MHOSPADM = na_if(MCMH_MHOSPADM, &quot;NA&quot;)) %&gt;% 
  mutate(
    MCMH_RSLT_HIV = dplyr::recode(MCMH_RSLT_HIV, &quot;(0000001) At least one positive test&quot; = &quot;Positive&quot;, &quot;(0000002) At least one negative and the other unknown&quot; = &quot;Presumed Negative&quot;, &quot;(0000009) Missing&quot; = &quot;NA&quot;, &quot;(9999999) Missing&quot; = &quot;NA&quot;), 
      MCMH_RSLT_HIV = factor(MCMH_RSLT_HIV, exclude = &quot;NA&quot;), 
      MCMH_RSLT_HIV = na_if(MCMH_RSLT_HIV, &quot;NA&quot;)) %&gt;% 
  mutate(
    TYPEOFFENSE = gsub(&quot;.*)&quot;, &quot;&quot;, TYPEOFFENSE), 
    TYPEOFFENSE = dplyr::recode(TYPEOFFENSE, &quot; Missing&quot; = &quot;NA&quot;, &quot; DK/refused&quot; = &quot;NA&quot;, &quot; Blank&quot; = &quot;NA&quot;),
    TYPEOFFENSE = na_if(TYPEOFFENSE, &quot;NA&quot;),
    TYPEOFFENSE = as.factor(TYPEOFFENSE)) %&gt;% 
  set_variable_labels(dataset = &quot;Facility Type&quot;, MENTAL_HISTORY_BINARY = &quot;Binary Mental Health History&quot;, V0005 = &quot;Sex&quot;, AGE_CAT = &quot;Age Group&quot;, V2982 = &quot;Race/Ethnicity&quot;, EDUCATION = &quot;Education&quot;, SES_INCOMEMTH = &quot;Monthly Income in Month Before Arrest&quot;, CH_PRIORSENTENCE_NUM = &quot;Number of Prior Sentences&quot;, V1197 = &quot;Number of Prior Arrests&quot;, CH_CRIMHIST_COLLAPSED = &quot;Collapsed Criminal History&quot;, TYPEOFFENSE = &quot;Type of Offense&quot;, SES_PARENTS_INCARCERATED = &quot;Parents Been Incarcerated&quot;, SES_FAMILY_INCARCERATED = &quot;Children, Siblings, or Spouse Been Incarcerated&quot;, MCMH_RSLT_HIV = &quot;HIV Status&quot;)</code></pre>
<p>This tidying and cleaning resulted in a combined dataset with 17881
rows (observations) and 60 columns (variables). The resulting dataset
includes demographic, geographic, incarceration-related, and
health-related variables. In the subsequent analyses, we utilized the
following variables:</p>
<ul>
<li><code>V0005</code> - Sex, male or female</li>
<li><code>AGE_CAT</code> - Age category</li>
<li><code>V2982</code> - Race and ethnicity</li>
<li><code>EDUCATION</code> - Before admission, highest grade of school
attended</li>
<li><code>SES_INCOMEMTH</code> - Month before arrest monthly income</li>
<li><code>CH_PRIORSENTENCE_NUM</code> - Number of prior sentences to
probation or incarceration</li>
<li><code>V1197</code> - # of Times Arrested Controlling Arrest
Date</li>
<li><code>CH_CRIMHIST_COLLAPSED</code> - Criminal history collapsed,
categorical</li>
<li><code>SES_PARENTS_INCARCERATED</code> - Parents have ever been in
prison or jail</li>
<li><code>SES_FAMILY_INCARCERATED</code> - Children, brothers, sisters,
or spouse have ever been in jail or prison</li>
<li><code>TYPEOFFENSE</code> - Type of Offense</li>
<li><code>V2409</code> - Ever taken a medication for mental
conditions</li>
<li><code>V2412</code> - Taken medication for a mental condition since
admission</li>
<li><code>MCMH_MHOSPYR</code> - Mental Hospital - year before
arrest</li>
<li><code>MCMH_MHOSPADM</code> - Mental hospital - since admission</li>
<li><code>MCMH_MH_TREATMENT_PA</code> - Mental Health Treatment 1 year
prior to arrest</li>
<li><code>MCMH_MH_TREATMENT_AD</code> - Mental Health Treatment since
admission</li>
<li><code>MCMH_RSLT_HIV</code> - HIV test result</li>
</ul>
<p>We created the following variables:</p>
<ul>
<li><code>dataset</code> - federal or state</li>
<li><code>MENTAL_HISTORY_BINARY</code> - whether or not the respondent
had any history with mental health conditions</li>
<li><code>tx_pa_ad</code> - Treatment 1 Year Before Arrest/Since
Admission</li>
</ul>
</div>
</div>
<div id="exploratory-analysis" class="section level1">
<h1>Exploratory analysis</h1>
<p>Visualizations, summaries, and exploratory statistical analyses.
Justify the steps you took, and show any major changes to your
ideas.</p>
</div>
<div id="statistical-analysis" class="section level1">
<h1>Statistical analysis</h1>
<div id="association-between-mental-health-and-hiv-status"
class="section level3">
<h3>Association between Mental Health and HIV Status</h3>
</div>
<div id="association-between-mental-health-and-arrest-history"
class="section level3">
<h3>Association between Mental Health and Arrest History</h3>
</div>
<div id="model-selection" class="section level3">
<h3>Model Selection</h3>
</div>
</div>
<div id="discussion" class="section level1">
<h1>Discussion</h1>
<p>What were your findings? Are they what you expect? What insights into
the data can you make?</p>
</div>
<div id="collaborators" class="section level1">
<h1>Collaborators</h1>
<p>Mackenzie Frost (maf2311)</p>
<p>Allison Randy-Cofie (amr2371)</p>
<p>Shritama Ray (sr3861)</p>
<p>Anna Zavodszky (amz2148)</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
